{"version":3,"sources":["components/SearchForm.js","components/Card.js","components/HomePage.js","components/App.js","index.js","components/search.png"],"names":["SearchForm","props","state","value","typing","typingTimeout","handleChange","bind","handleSubmit","event","this","setState","target","clearTimeout","setTimeout","callback","length","preventDefault","className","onSubmit","placeholder","type","onChange","React","Component","CardDownload","data","pdf_url","epub_url","Fragment","href","pdf_size","toFixed","epub_size","BookCard","image","src","concat","image_url","title","description","style","author","substring","year","pages","ProxyServer","HomePage","books","initialBooks","search","handleSearchCallback","axios","post","then","response","search_text","submit","map","book","key","randomBytes","App","ReactDOM","render","document","getElementById","module","exports"],"mappings":"uVAqDeA,E,YA1Cb,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KACDC,MAAQ,CACXC,MAAO,GACPC,QAAQ,EACRC,cAAe,GAGjB,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAKC,aAAe,EAAKA,aAAaD,KAAlB,gBATH,E,0EAYNE,GAAQ,IAAD,OAClBC,KAAKC,SAAS,CAACR,MAAOM,EAAMG,OAAOT,QAChCO,KAAKR,MAAMG,eACZQ,aAAaH,KAAKR,MAAMG,eAE1BK,KAAKC,SAAS,CACZR,MAAOM,EAAMG,OAAOT,MACpBC,QAAQ,EACRC,cAAeS,YAAW,WACxB,EAAKb,MAAMc,SAAS,EAAKb,MAAMC,OAAO,KACrC,S,mCAIMM,GACRC,KAAKR,MAAMC,MAAMa,OAAS,GACzBN,KAAKT,MAAMc,SAASL,KAAKR,MAAMC,OAAO,GAC1CM,EAAMQ,mB,+BAIN,OACE,0BAAMC,UAAU,cAAcC,SAAUT,KAAKF,cAEzC,2BAAOU,UAAU,eAAeE,YAAY,kBAAkBC,KAAK,OAAOlB,MAAOO,KAAKR,MAAMC,MAAOmB,SAAUZ,KAAKJ,oB,GArCnGiB,IAAMC,W,yBCR/B,SAASC,EAAaxB,GAClB,IAAIyB,EAAOzB,EAAMA,MACjB,MAAmB,QAAhByB,EAAKC,SAAsC,QAAjBD,EAAKE,SAE9B,kBAAC,IAAMC,SAAP,KACE,uBAAGX,UAAU,yBAAyBY,KAAMJ,EAAKC,SAAjD,QAAgED,EAAKK,SAAL,SAA2BC,QAAQ,GAAnG,OACA,uBAAGd,UAAU,0BAA0BY,KAAMJ,EAAKE,UAAlD,SAAmEF,EAAKO,UAAL,SAA4BD,QAAQ,GAAvG,QAIFN,EAAKC,QACC,uBAAGT,UAAU,yBAAyBY,KAAM7B,EAAMA,MAAM0B,SAAxD,QAAuED,EAAKK,SAAL,SAA2BC,QAAQ,GAA1G,OAENN,EAAKE,SACC,uBAAGV,UAAU,0BAA0BY,KAAM7B,EAAMA,MAAM2B,UAAzD,SAA0EF,EAAKO,UAAL,SAA4BD,QAAQ,GAA9G,YADV,EA0CWE,MArCb,SAAkBjC,GAChB,OACE,yBAAKiB,UAAU,aACb,yBAAKA,UAAU,iBAEc,MAArBjB,EAAMA,MAAMkC,MACV,yBAAKjB,UAAU,oBAAoBkB,IAAK,0BAA0BC,OAAOpC,EAAMA,MAAMkC,SACrF,yBAAKjB,UAAU,oBAAoBkB,IAAKnC,EAAMA,MAAMqC,aAG9D,yBAAKpB,UAAU,qBACb,yBAAKA,UAAU,kBACb,0BAAMA,UAAU,mBAAhB,IAAoCjB,EAAMA,MAAMsC,MAAhD,MAEF,yBAAKrB,UAAU,uBAEf,yBAAKA,UAAU,yBACb,0BAAMA,UAAU,kBACdjB,EAAMA,MAAMuC,YAAYxB,OAAS,EACjCf,EAAMA,MAAMuC,YACV,oCAIN,yBAAKtB,UAAU,kBACX,0BAAMuB,MAAO,CAAC,WAAc,QAAQ,sCAAexC,EAAMA,MAAMyC,OAAOC,UAAU,EAAG,IAAnF,KACA,0BAAMF,MAAO,CAAC,WAAc,QAAQ,yCAAkBxC,EAAMA,MAAM2C,KAAlE,KACA,0BAAMH,MAAO,CAAC,WAAc,QAAQ,qCAAcxC,EAAMA,MAAM4C,SAGpE,yBAAK3B,UAAU,sBACb,kBAACO,EAAD,CAAcxB,MAAOA,EAAMA,W,ykBC7CrC,IAAI6C,EAAc,yBA2EHC,E,YAvEX,WAAY9C,GAAO,IAAD,8BACd,4CAAMA,KACDC,MAAQ,CACT8C,OAAO,EACPC,cAAc,EACdC,OAAQ,IAEZ,EAAKC,qBAAuB,EAAKA,qBAAqB5C,KAA1B,gBAPd,E,iFAUE,IAAD,OAEf6C,IAAMC,KAAKP,EADE,kFACkBQ,MAC3B,SAACC,GACG,EAAK5C,SAAS,CACVqC,MAAOO,EAAS7B,KAChBuB,aAAcM,EAAS7B,Y,2CAMlB8B,EAAaC,GAAQ,IAAD,OAClCD,EAAYxC,OAAS,GACtBN,KAAKC,SAAS,CAACuC,OAAQM,IACtBC,EACCL,IAAMC,KAAKP,EAAY,IAAIU,GAAaF,MACpC,SAACC,GACG,EAAK5C,SAAS,CACVqC,MAAOO,EAAS7B,KAAO6B,EAAS7B,KAAO,QAKrD0B,IAAMC,KAAKP,EAAY,IAAIU,EAAY,MAAQF,MAC7C,SAACC,GACG,EAAK5C,SAAS,CACVqC,MAAOO,EAAS7B,KAAO6B,EAAS7B,KAAO,SAM/ChB,KAAKC,SAAS,CACVqC,MAAOtC,KAAKR,MAAM+C,iB,+BAO1B,OAAGvC,KAAKR,MAAM8C,MAEV,kBAAC,IAAMnB,SAAP,KACI,yBAAKX,UAAU,iBACX,kBAAC,EAAD,CAAYH,SAAUL,KAAKyC,wBAE/B,yBAAKjC,UAAU,eAEPR,KAAKR,MAAM8C,MAAMU,KAAI,SAAAC,GAAI,OACrB,kBAAC,EAAD,CAAUC,IAAMC,sBAAY,IAAM5D,MAAK,KAAM0D,UAOzD,O,GArEOpC,IAAMC,WCIdsC,MARf,WACE,OACE,yBAAK5C,UAAU,OACb,kBAAC,EAAD,QCFN6C,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U,mBCLjDC,EAAOC,QAAU,IAA0B,oC","file":"static/js/main.5f025b04.chunk.js","sourcesContent":["import React from 'react';\nimport searchLogo from './search.png'\n\nfunction SeachFavicon(props){\n  props = props.props\n  return(\n    <img style={{'width': props.width, 'height': props.height, 'verticalAlign': 'top'}} src={searchLogo}></img>\n  )\n}\n\nclass SearchForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: '',\n      typing: false,\n      typingTimeout: 0\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({value: event.target.value});\n    if(this.state.typingTimeout){\n      clearTimeout(this.state.typingTimeout)\n    }\n    this.setState({\n      value: event.target.value,\n      typing: false,\n      typingTimeout: setTimeout(() => {\n        this.props.callback(this.state.value, false)\n      }, 200)\n    })\n  }\n\n  handleSubmit(event) {\n    if(this.state.value.length > 0)\n        this.props.callback(this.state.value, true)\n    event.preventDefault();\n  }\n\n  render() {\n    return (\n      <form className=\"search-form\" onSubmit={this.handleSubmit}>\n          {/* <SeachFavicon props={{'height':35, 'width':35}} /> */}\n          <input className=\"search-input\" placeholder=\"   Search Books\" type=\"text\" value={this.state.value} onChange={this.handleChange} />\n      </form>\n    );\n  }\n}\n\nexport default SearchForm;","import React from 'react'\n\nfunction CardDownload(props){\n    let data = props.props\n    if(data.pdf_url != \"None\" && data.epub_url != \"None\"){\n      return (\n        <React.Fragment>\n          <a className=\"book-link-pdf App-link\" href={data.pdf_url}>PDF({(data.pdf_size/(1024*1024)).toFixed(2)}MB)</a>\n          <a className=\"book-link-epub App-link\" href={data.epub_url}>EPUB({(data.epub_size/(1024*1024)).toFixed(2)}MB)</a>\n        </React.Fragment>\n      )\n    }\n    if (data.pdf_url) {\n      return (<a className=\"book-link-pdf App-link\" href={props.props.pdf_url}>PDF({(data.pdf_size/(1024*1024)).toFixed(2)}MB)</a>)\n    }\n    if (data.epub_url) {\n      return (<a className=\"book-link-epub App-link\" href={props.props.epub_url}>EPUB({(data.epub_size/(1024*1024)).toFixed(2)}MB)</a>)\n    }\n  }\n  \n  function BookCard(props){\n    return(\n      <div className=\"book-card\">\n        <div className=\"book-card-img\">\n            {\n                props.props.image != null\n                ?(<img className=\"book-card-img-tag\" src={\"data:image/jpeg;base64,\".concat(props.props.image)}/>)\n                :(<img className=\"book-card-img-tag\" src={props.props.image_url}/>)\n            }\n        </div>\n        <div className=\"book-card-details\">\n          <div className=\"book-card-tite\">\n            <span className=\"card-span-title\"> {props.props.title} </span>\n          </div>\n          <div className=\"book-card-subtitle\">\n          </div>\n          <div className=\"book-card-description\">\n            <span className=\"book-desc-span\">{\n              props.props.description.length > 0 ?\n              props.props.description\n              : \"Book description not available.\"\n            }\n            </span>\n          </div>\n          <div className=\"book-card-misc\">\n              <span style={{'marginLeft': '0px'}}><b>Author:</b>{props.props.author.substring(0, 20)},</span>\n              <span style={{'marginLeft': '5px'}}><b>Published:</b>{props.props.year},</span>\n              <span style={{'marginLeft': '5px'}}><b>Pages:</b>{props.props.pages}</span>\n          </div>\n        </div>\n        <div className=\"book-card-download\">\n          <CardDownload props={props.props} />\n        </div>\n      </div>\n    )\n  }\n\nexport default BookCard","import React from 'react'\nimport SearchForm from './SearchForm'\nimport { randomBytes } from 'crypto';\nimport axios from 'axios'\nimport BookCard from './Card'\n\nlet ProxyServer = \"http://127.0.0.28:9999\"\n\nclass HomePage extends React.Component\n{\n    constructor(props){\n        super(props)\n        this.state = {\n            books: false,\n            initialBooks: false,\n            search: ''\n        }\n        this.handleSearchCallback = this.handleSearchCallback.bind(this)\n    }\n\n    componentDidMount(){\n        let search = \"/programming OR operating system OR algorithm OR Data Structures OR science/30\"\n        axios.post(ProxyServer+search).then(\n            (response) => {\n                this.setState({\n                    books: response.data,\n                    initialBooks: response.data\n                })\n            }\n        )\n    }\n\n    handleSearchCallback(search_text, submit){\n        if(search_text.length > 0){\n          this.setState({search: search_text})\n        if(submit){\n            axios.post(ProxyServer+\"/\"+search_text).then(\n                (response) => {\n                    this.setState({\n                        books: response.data ? response.data : []\n                    })\n                }\n            )\n        }else {\n          axios.post(ProxyServer+\"/\"+search_text+\"/\"+ 6).then(\n            (response) => {\n                this.setState({\n                    books: response.data ? response.data : []\n                })\n            }\n          )\n        }}\n        else{\n            this.setState({\n                books: this.state.initialBooks\n            })\n        }\n        \n    }\n\n    render(){\n        if(this.state.books){\n        return(\n            <React.Fragment>\n                <div className=\"search-wraper\">\n                    <SearchForm callback={this.handleSearchCallback}/>\n                </div>\n                <div className=\"book-wraper\" >\n                    {\n                        this.state.books.map(book =>\n                            <BookCard key={ randomBytes(10) } props={{...book}} />\n                        )\n                    }\n                </div>\n            </React.Fragment>\n        )\n    }\n    else return \"\"\n    }\n}\n\nexport default HomePage;","import React from 'react';\nimport './App.css';\nimport HomePage from './HomePage'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <HomePage />      \n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/search.fe4159ec.png\";"],"sourceRoot":""}